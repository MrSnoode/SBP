<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>

<body>
    <h1>Soft Body Physics Simulation Demo</h1>
    <div>Drag any of the nodes below slowly so make the simulation move.</div>

    <div>        
        <!-- Create the canvas that the C++ code will draw into -->
        <canvas id="canvas" oncontextmenu="event.preventDefault()"></canvas>
    </div>

    <div>
        <input type="checkbox" id="showStretch">
        <label for="showStretch">Show Edge Stretch.</label> Visualize stretched and compressed edges by coloring them red and blue.<br>
        <input type="checkbox" id="showStretchForces">
        <label for="showStretchForces">Show Stretch Forces.</label> Draw the vector of the total forces acting on each node resulting from compression/stretching.<br>
        <input type="checkbox" id="showBendForces">
        <label for="showBendForces">Show Bend Forces.</label> Draw the vector of the total bending forces acting on each node. Bending forces result from the angle between two edges differing from the resting angle (the angle the simulation was started in)<br>
    </div>

    <!-- Allow the C++ to access the canvas element --> 
    <script type='text/javascript'>
        var canv = document.getElementById('canvas');
        var Module = {
            canvas: canv
        };
        var cbShowStretch = document.getElementById('showStretch');
        var cbShowStretchForces = document.getElementById('showStretchForces');
        var cbShowBendForces = document.getElementById('showBendForces');
    </script>
    
    <!-- Call the javascript glue code (index.js) as generated by Emscripten -->
    <script src="index.js"></script>    

    <!-- Allow the javascript to call C++ functions -->
    <script type='text/javascript'>	
        cbShowStretch.addEventListener('click',  function(event) {_show_stretch(cbShowStretch.checked)}, false);
        cbShowStretchForces.addEventListener('click',  function(event) {_show_stretch_forces(cbShowStretchForces.checked)}, false);
        cbShowBendForces.addEventListener('click',  function(event) {_show_bend_forces(cbShowBendForces.checked)}, false);
    </script>
</body>

</html>

